<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dobo.modules.cst.dao.detail.CstOrderCostInfoDao">
    
	<sql id="cstOrderCostInfoColumns">
		a.id AS "id",
		a.dc_prj_id AS "dcPrjId",
		a.prod_id AS "prodId",
		a.pd_id AS "pdId",
		a.resource_id AS "resourceId",
		a.mfr_name AS "mfrName",
		a.resource_name AS "resourceName",
		a.modelgroup_name AS "modelGroupName",
		a.equip_type_name AS "equipTypeName",
		a.begin_date AS "beginDate",
		a.end_date AS "endDate",
		a.order_id AS "orderId",
		a.key_id AS "keyId",
		a.man_line1level1 AS "manLine1level1",
		a.man_line1level2 AS "manLine1level2",
		a.man_line1level3 AS "manLine1level3",
		a.man_line1level4 AS "manLine1level4",
		a.man_line1level5 AS "manLine1level5",
		a.man_line1level6 AS "manLine1level6",
		a.man_line1level1_des AS "manLine1level1Des",
		a.man_line1level2_des AS "manLine1level2Des",
		a.man_line1level3_des AS "manLine1level3Des",
		a.man_line1level4_des AS "manLine1level4Des",
		a.man_line1level5_des AS "manLine1level5Des",
		a.man_line1level1_travl AS "manLine1level1Travl",
		a.man_line1level2_travl AS "manLine1level2Travl",
		a.man_line1level3_travl AS "manLine1level3Travl",
		a.man_line1level4_travl AS "manLine1level4Travl",
		a.man_line1level5_travl AS "manLine1level5Travl",
		a.man_line1level6_travl AS "manLine1level6Travl",
		a.man_out_fee AS "manOutFee",
		a.man_line2level4 AS "manLine2level4",
		a.man_line2level5 AS "manLine2level5",
		a.man_line2level6 AS "manLine2level6",
		a.man_line3level6 AS "manLine3level6",
		a.man_cmo AS "manCmo",
		a.man_pmo AS "manPmo",
		a.man_zyg AS "manZyg",
		a.man_zkgl AS "manZkgl",
		a.man_qygl AS "manQygl",
		a.man_qygl_des AS "manQyglDes",
		a.man_pm3 AS "manPm3",
		a.man_pm4 AS "manPm4",
		a.man_pm5 AS "manPm5",
		a.bak_gzcb AS "bakGzcb",
		a.bak_xmcbcb AS "bakXmcbcb",
		a.bak_gpcbcb AS "bakGpcbcb",
		a.bak_bjrgcb AS "bakBjrgcb",
		a.bak_zkgl AS "bakZkgl",
		a.bak_ckzlcb AS "bakCkzlcb",
		a.bak_bccb AS "bakBccb",
		a.bak_hsqjyscb AS "bakHsqjyscb",
		a.bak_gzjfhyscb AS "bakGzjfhyscb",
		a.bak_wysdcb AS "bakWysdcb",
		a.bak_dbyscb AS "bakDbyscb",
		a.manager_cost AS "managerCost",
		a.tool_cost AS "toolCost",
		a.risk_cost AS "riskCost",
		a.status AS "status",
		a.create_by AS "createBy.id",
		a.create_date AS "createDate",
		a.update_by AS "updateBy.id",
		a.update_date AS "updateDate",
		a.remarks AS "remarks",
		a.del_flag AS "delFlag"
	</sql>
	
	<sql id="cstOrderCostInfoJoins">
	</sql>
    
	<select id="get" resultType="CstOrderCostInfo">
		SELECT 
			<include refid="cstOrderCostInfoColumns"/>
		FROM cst_order_cost_info a
		<include refid="cstOrderCostInfoJoins"/>
		WHERE a.id = #{id}
	</select>
	
	<select id="findList" resultType="CstOrderCostInfo">
		SELECT 
			<include refid="cstOrderCostInfoColumns"/>
		FROM cst_order_cost_info a
		<include refid="cstOrderCostInfoJoins"/>
		<where>
			a.del_flag = #{DEL_FLAG_NORMAL}
		</where>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
				ORDER BY a.update_date DESC
			</otherwise>
		</choose>
	</select>
	
	<select id="findAllList" resultType="CstOrderCostInfo">
		SELECT 
			<include refid="cstOrderCostInfoColumns"/>
		FROM cst_order_cost_info a
		<include refid="cstOrderCostInfoJoins"/>
		<where>
			a.del_flag = #{DEL_FLAG_NORMAL}
		</where>		
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
				ORDER BY a.update_date DESC
			</otherwise>
		</choose>
	</select>
	
	<insert id="addDetailBatch" parameterType="java.util.List">
		INSERT INTO cst_order_cost_info(
			id,
			dc_prj_id,
			prod_id,
			pd_id,
			key_id,
			man_line1level1,
			man_line1level2,
			man_line1level3,
			man_line1level4,
			man_line1level5,
			man_line1level6,
			man_line1level1_des,
			man_line1level2_des,
			man_line1level3_des,
			man_line1level4_des,
			man_line1level5_des,
			man_line1level1_travl,
			man_line1level2_travl,
			man_line1level3_travl,
			man_line1level4_travl,
			man_line1level5_travl,
			man_line1level6_travl,
			man_out_fee,
			man_line2level4,
			man_line2level5,
			man_line2level6,
			man_line3level6,
			man_cmo,
			man_pmo,
			man_zyg,
			man_zkgl,
			man_qygl,
			man_qygl_des,
			man_pm3,
			man_pm4,
			man_pm5,
			bak_gzcb,
			bak_xmcbcb,
			bak_gpcbcb,
			bak_bjrgcb,
			bak_zkgl,
			bak_ckzlcb,
			bak_bccb,
			bak_hsqjyscb,
			bak_gzjfhyscb,
			bak_wysdcb,
			bak_dbyscb,
			manager_cost,
			tool_cost,
			risk_cost,
			status,
			create_by,
			create_date,
			update_by,
			update_date,
			remarks,
			del_flag,
			mfr_name,
			resource_name,
			modelgroup_name,
			equip_type_name,
			resource_id,
			begin_date,
			end_date,
			order_id
		) 
		<foreach collection="list" item="item" index="index" separator="union all" >  
		select 
			#{item.id,jdbcType=VARCHAR} id,
			#{item.dcPrjId,jdbcType=VARCHAR} dc_prj_id,
			#{item.prodId,jdbcType=VARCHAR} prod_id,
			#{item.pdId,jdbcType=VARCHAR} pd_id,
			#{item.keyId,jdbcType=VARCHAR} key_id,
			#{item.manLine1level1,jdbcType=DOUBLE} man_line1level1,
			#{item.manLine1level2,jdbcType=DOUBLE} man_line1level2,
			#{item.manLine1level3,jdbcType=DOUBLE} man_line1level3,
			#{item.manLine1level4,jdbcType=DOUBLE} man_line1level4,
			#{item.manLine1level5,jdbcType=DOUBLE} man_line1level5,
			#{item.manLine1level6,jdbcType=DOUBLE} man_line1level6,
			#{item.manLine1level1Des,jdbcType=DOUBLE} man_line1level1_des,
			#{item.manLine1level2Des,jdbcType=DOUBLE} man_line1level2_des,
			#{item.manLine1level3Des,jdbcType=DOUBLE} man_line1level3_des,
			#{item.manLine1level4Des,jdbcType=DOUBLE} man_line1level4_des,
			#{item.manLine1level5Des,jdbcType=DOUBLE} man_line1level5_des,
			#{item.manLine1level1Travl,jdbcType=DOUBLE} man_line1level1_travl,
			#{item.manLine1level2Travl,jdbcType=DOUBLE} man_line1level2_travl,
			#{item.manLine1level3Travl,jdbcType=DOUBLE} man_line1level3_travl,
			#{item.manLine1level4Travl,jdbcType=DOUBLE} man_line1level4_travl,
			#{item.manLine1level5Travl,jdbcType=DOUBLE} man_line1level5_travl,
			#{item.manLine1level6Travl,jdbcType=DOUBLE} man_line1level6_travl,
			#{item.manOutFee,jdbcType=DOUBLE} man_out_fee,
			#{item.manLine2level4,jdbcType=DOUBLE} man_line2level4,
			#{item.manLine2level5,jdbcType=DOUBLE} man_line2level5,
			#{item.manLine2level6,jdbcType=DOUBLE} man_line2level6,
			#{item.manLine3level6,jdbcType=DOUBLE} man_line3level6,
			#{item.manCmo,jdbcType=DOUBLE} man_cmo,
			#{item.manPmo,jdbcType=DOUBLE} man_pmo,
			#{item.manZyg,jdbcType=DOUBLE} man_zyg,
			#{item.manZkgl,jdbcType=DOUBLE} man_zkgl,
			#{item.manQygl,jdbcType=DOUBLE} man_qygl,
			#{item.manQyglDes,jdbcType=DOUBLE} man_qygl_des,
			#{item.manPm3,jdbcType=DOUBLE} man_pm3,
			#{item.manPm4,jdbcType=DOUBLE} man_pm4,
			#{item.manPm5,jdbcType=DOUBLE} man_pm5,
			#{item.bakGzcb,jdbcType=DOUBLE} bak_gzcb,
			#{item.bakXmcbcb,jdbcType=DOUBLE} bak_xmcbcb,
			#{item.bakGpcbcb,jdbcType=DOUBLE} bak_gpcbcb,
			#{item.bakBjrgcb,jdbcType=DOUBLE} bak_bjrgcb,
			#{item.bakZkgl,jdbcType=DOUBLE} bak_zkgl,
			#{item.bakCkzlcb,jdbcType=DOUBLE} bak_ckzlcb,
			#{item.bakBccb,jdbcType=DOUBLE} bak_bccb,
			#{item.bakHsqjyscb,jdbcType=DOUBLE} bak_hsqjyscb,
			#{item.bakGzjfhyscb,jdbcType=DOUBLE} bak_gzjfhyscb,
			#{item.bakWysdcb,jdbcType=DOUBLE} bak_wysdcb,
			#{item.bakDbyscb,jdbcType=DOUBLE} bak_dbyscb,
			#{item.managerCost,jdbcType=DOUBLE} manager_cost,
			#{item.toolCost,jdbcType=DOUBLE} tool_cost,
			#{item.riskCost,jdbcType=DOUBLE} risk_cost,
			#{item.status,jdbcType=VARCHAR} status,
			#{item.createBy.id,jdbcType=VARCHAR} create_by,
			#{item.createDate,jdbcType=DATE} create_date,
			#{item.updateBy.id,jdbcType=VARCHAR} update_by,
			#{item.updateDate,jdbcType=DATE} update_date,
			#{item.remarks,jdbcType=VARCHAR} remarks,
			#{item.delFlag,jdbcType=CHAR} del_flag,
			#{item.mfrName,jdbcType=VARCHAR} mfr_name,
			#{item.resourceName,jdbcType=VARCHAR} resource_name,
			#{item.modelgroupName,jdbcType=VARCHAR} modelgroup_name,
			#{item.equipTypeName,jdbcType=VARCHAR} equip_type_name,
			#{item.resourceId,jdbcType=VARCHAR} resource_id,
			#{item.beginDate,jdbcType=DATE} begin_date,
			#{item.endDate,jdbcType=DATE} end_date,
			#{item.orderId,jdbcType=VARCHAR} order_id
		from dual
		</foreach>
	</insert>
	
	<insert id="insert">
		INSERT INTO cst_order_cost_info(
			id,
			dc_prj_id,
			prod_id,
			pd_id,
			key_id,
			man_line1level1,
			man_line1level2,
			man_line1level3,
			man_line1level4,
			man_line1level5,
			man_line1level6,
			man_line1level1_des,
			man_line1level2_des,
			man_line1level3_des,
			man_line1level4_des,
			man_line1level5_des,
			man_line1level1_travl,
			man_line1level2_travl,
			man_line1level3_travl,
			man_line1level4_travl,
			man_line1level5_travl,
			man_line1level6_travl,
			man_out_fee,
			man_line2level4,
			man_line2level5,
			man_line2level6,
			man_line3level6,
			man_cmo,
			man_pmo,
			man_zyg,
			man_zkgl,
			man_qygl,
			man_qygl_des,
			man_pm3,
			man_pm4,
			man_pm5,
			bak_gzcb,
			bak_xmcbcb,
			bak_gpcbcb,
			bak_bjrgcb,
			bak_zkgl,
			bak_ckzlcb,
			bak_bccb,
			bak_hsqjyscb,
			bak_gzjfhyscb,
			bak_wysdcb,
			bak_dbyscb,
			manager_cost,
			tool_cost,
			risk_cost,
			status,
			create_by,
			create_date,
			update_by,
			update_date,
			remarks,
			del_flag,
			mfr_name,
			resource_name,
			modelgroup_name,
			equip_type_name,
			resource_id,
			begin_date,
			end_date,
			order_id
		) VALUES (
			#{id},
			#{dcPrjId},
			#{prodId},
			#{pdId},
			#{keyId},
			#{manLine1level1},
			#{manLine1level2},
			#{manLine1level3},
			#{manLine1level4},
			#{manLine1level5},
			#{manLine1level6},
			#{manLine1level1Des},
			#{manLine1level2Des},
			#{manLine1level3Des},
			#{manLine1level4Des},
			#{manLine1level5Des},
			#{manLine1level1Travl},
			#{manLine1level2Travl},
			#{manLine1level3Travl},
			#{manLine1level4Travl},
			#{manLine1level5Travl},
			#{manLine1level6Travl},
			#{manOutFee},
			#{manLine2level4},
			#{manLine2level5},
			#{manLine2level6},
			#{manLine3level6},
			#{manCmo},
			#{manPmo},
			#{manZyg},
			#{manZkgl},
			#{manQygl},
			#{manQyglDes},
			#{manPm3},
			#{manPm4},
			#{manPm5},
			#{bakGzcb},
			#{bakXmcbcb},
			#{bakGpcbcb},
			#{bakBjrgcb},
			#{bakZkgl},
			#{bakCkzlcb},
			#{bakBccb},
			#{bakHsqjyscb},
			#{bakGzjfhyscb},
			#{bakWysdcb},
			#{bakDbyscb},
			#{managerCost},
			#{toolCost},
			#{riskCost},
			#{status},
			#{createBy.id},
			#{createDate},
			#{updateBy.id},
			#{updateDate},
			#{remarks},
			#{delFlag},
			#{mfrName},
			#{resourceName},
			#{modelgroupName},
			#{equipTypeName},
			#{resourceId},
			#{beginDate},
			#{endDate},
			#{orderId}
		)
	</insert>
	
	<update id="update">
		UPDATE cst_order_cost_info SET 	
			dc_prj_id = #{dcPrjId},
			prod_id = #{prodId},
			pd_id = #{pdId},
			key_id = #{keyId},
			man_line1level1 = #{manLine1level1},
			man_line1level2 = #{manLine1level2},
			man_line1level3 = #{manLine1level3},
			man_line1level4 = #{manLine1level4},
			man_line1level5 = #{manLine1level5},
			man_line1level6 = #{manLine1level6},
			man_line1level1_des = #{manLine1level1Des},
			man_line1level2_des = #{manLine1level2Des},
			man_line1level3_des = #{manLine1level3Des},
			man_line1level4_des = #{manLine1level4Des},
			man_line1level5_des = #{manLine1level5Des},
			man_line1level1_travl = #{manLine1level1Travl},
			man_line1level2_travl = #{manLine1level2Travl},
			man_line1level3_travl = #{manLine1level3Travl},
			man_line1level4_travl = #{manLine1level4Travl},
			man_line1level5_travl = #{manLine1level5Travl},
			man_line1level6_travl = #{manLine1level6Travl},
			man_out_fee = #{manOutFee},
			man_line2level4 = #{manLine2level4},
			man_line2level5 = #{manLine2level5},
			man_line2level6 = #{manLine2level6},
			man_line3level6 = #{manLine3level6},
			man_cmo = #{manCmo},
			man_pmo = #{manPmo},
			man_zyg = #{manZyg},
			man_zkgl = #{manZkgl},
			man_qygl = #{manQygl},
			man_qygl_des = #{manQyglDes},
			man_pm3 = #{manPm3},
			man_pm4 = #{manPm4},
			man_pm5 = #{manPm5},
			bak_gzcb = #{bakGzcb},
			bak_xmcbcb = #{bakXmcbcb},
			bak_gpcbcb = #{bakGpcbcb},
			bak_bjrgcb = #{bakBjrgcb},
			bak_zkgl = #{bakZkgl},
			bak_ckzlcb = #{bakCkzlcb},
			bak_bccb = #{bakBccb},
			bak_hsqjyscb = #{bakHsqjyscb},
			bak_gzjfhyscb = #{bakGzjfhyscb},
			bak_wysdcb = #{bakWysdcb},
			bak_dbyscb = #{bakDbyscb},
			manager_cost = #{managerCost},
			tool_cost = #{toolCost},
			risk_cost = #{riskCost},
			status = #{status},
			update_by = #{updateBy.id},
			update_date = #{updateDate},
			remarks = #{remarks}
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		UPDATE cst_order_cost_info SET 
			del_flag = #{DEL_FLAG_DELETE}
		WHERE id = #{id}
	</update>
	
</mapper>